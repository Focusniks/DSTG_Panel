<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Документация - DSTG Panel</title>
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <link rel="alternate icon" href="/static/favicon.svg">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="/static/css/themes.css">
    <script>
        // Применяем тему сразу, чтобы избежать мерцания
        (function() {
            try {
                const savedTheme = localStorage.getItem('panel-theme') || 'dark';
                document.documentElement.setAttribute('data-theme', savedTheme);
                
                if (savedTheme === 'custom') {
                    const customThemesStr = localStorage.getItem('panel-custom-themes');
                    if (customThemesStr) {
                        try {
                            const customThemes = JSON.parse(customThemesStr);
                            const customThemeName = localStorage.getItem('panel-custom-theme-name') || 'custom';
                            const customTheme = customThemes[customThemeName];
                            if (customTheme) {
                                const root = document.documentElement;
                                Object.keys(customTheme).forEach(key => {
                                    if (key.startsWith('--')) {
                                        root.style.setProperty(key, customTheme[key]);
                                    }
                                });
                            }
                        } catch(e) {
                            console.warn('Ошибка загрузки пользовательской темы:', e);
                        }
                    }
                }
            } catch(e) {
                document.documentElement.setAttribute('data-theme', 'dark');
            }
        })();
    </script>
    <style>
        .wiki-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .wiki-header {
            text-align: center;
            padding: 3rem 0 2rem;
            margin-bottom: 3rem;
            border-bottom: 2px solid var(--border-color);
        }
        .wiki-header h1 {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--neon-cyan), var(--neon-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }
        .wiki-header p {
            font-size: 1.2rem;
            color: var(--text-secondary);
        }
        .wiki-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            transition: all var(--anim-normal) ease;
            position: relative;
            overflow: hidden;
        }
        .wiki-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--neon-cyan), var(--neon-purple));
            opacity: 0;
            transition: opacity var(--anim-normal) ease;
        }
        .wiki-card:hover::before {
            opacity: 1;
        }
        .wiki-card:hover {
            border-color: var(--neon-cyan);
            box-shadow: 0 8px 24px rgba(0, 243, 255, 0.15);
            transform: translateY(-2px);
        }
        .wiki-card-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }
        .wiki-card-icon {
            font-size: 2.5rem;
            color: var(--neon-cyan);
            filter: drop-shadow(0 0 10px rgba(0, 243, 255, 0.4));
        }
        .wiki-card-title {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--text-primary);
            margin: 0;
        }
        .wiki-card-content {
            color: var(--text-secondary);
            line-height: 1.8;
        }
        .wiki-card-content h3 {
            color: var(--text-primary);
            font-size: 1.3rem;
            font-weight: 600;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .wiki-card-content h3:first-child {
            margin-top: 0;
        }
        .wiki-card-content h3 i {
            color: var(--neon-cyan);
            font-size: 1.1rem;
        }
        .wiki-card-content ul, .wiki-card-content ol {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }
        .wiki-card-content li {
            margin-bottom: 0.5rem;
        }
        .wiki-card-content code {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 0.2rem 0.5rem;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            color: var(--neon-cyan);
        }
        .wiki-card-content pre {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            overflow-x: auto;
            margin: 1rem 0;
        }
        .wiki-card-content pre code {
            background: transparent;
            border: none;
            padding: 0;
            color: var(--text-primary);
        }
        .wiki-note {
            background: rgba(0, 243, 255, 0.1);
            border-left: 4px solid var(--neon-cyan);
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            border-radius: 8px;
        }
        .wiki-warning {
            background: rgba(255, 107, 53, 0.1);
            border-left: 4px solid var(--neon-orange);
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            border-radius: 8px;
        }
        .wiki-success {
            background: rgba(57, 255, 20, 0.1);
            border-left: 4px solid var(--neon-green);
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            border-radius: 8px;
        }
        .back-button {
            margin-bottom: 2rem;
        }
        
        /* Навигационное меню */
        .wiki-nav {
            position: fixed;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            width: 280px;
            max-height: calc(100vh - 100px);
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 1.5rem;
            overflow-y: auto;
            z-index: 100;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
            transition: all var(--anim-normal) ease;
        }
        
        .wiki-nav::-webkit-scrollbar {
            width: 6px;
        }
        
        .wiki-nav::-webkit-scrollbar-track {
            background: var(--bg-tertiary);
            border-radius: 3px;
        }
        
        .wiki-nav::-webkit-scrollbar-thumb {
            background: var(--neon-cyan);
            border-radius: 3px;
        }
        
        .wiki-nav::-webkit-scrollbar-thumb:hover {
            background: var(--neon-blue);
        }
        
        .wiki-nav-header {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 2px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .wiki-nav-header i {
            color: var(--neon-cyan);
        }
        
        .wiki-nav-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .wiki-nav-item {
            margin-bottom: 0.5rem;
        }
        
        .wiki-nav-link {
            display: block;
            padding: 0.6rem 0.75rem;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: 8px;
            transition: all var(--anim-fast) ease;
            font-size: 0.9rem;
            border-left: 3px solid transparent;
        }
        
        .wiki-nav-link:hover {
            color: var(--neon-cyan);
            background: rgba(0, 243, 255, 0.1);
            border-left-color: var(--neon-cyan);
            transform: translateX(4px);
        }
        
        .wiki-nav-link.active {
            color: var(--neon-cyan);
            background: rgba(0, 243, 255, 0.15);
            border-left-color: var(--neon-cyan);
            font-weight: 600;
        }
        
        .wiki-content-wrapper {
            display: flex;
            gap: 2rem;
            position: relative;
        }
        
        .wiki-content {
            flex: 1;
            min-width: 0;
        }
        
        @media (max-width: 1200px) {
            .wiki-nav {
                position: relative;
                top: 0;
                right: 0;
                width: 100%;
                max-height: none;
                margin-bottom: 2rem;
                order: -1;
            }
            
            .wiki-content-wrapper {
                flex-direction: column;
            }
        }
        
        @media (max-width: 768px) {
            .wiki-header h1 {
                font-size: 2rem;
            }
            .wiki-card {
                padding: 1.5rem;
            }
            .wiki-card-title {
                font-size: 1.5rem;
            }
            .wiki-nav {
                width: 100%;
                padding: 1rem;
            }
            .wiki-nav-header {
                font-size: 1rem;
            }
            .wiki-nav-link {
                font-size: 0.85rem;
                padding: 0.5rem;
            }
        }
        
        html {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="container-fluid">
            <span class="navbar-brand">
                <i class="fas fa-book"></i> 
                <span class="d-none d-md-inline ms-2">Документация</span>
            </span>
            <button class="btn btn-outline-light" onclick="window.location.href='/'">
                <i class="fas fa-arrow-left"></i> 
                <span class="d-none d-md-inline ms-1">Вернуться в панель</span>
            </button>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="wiki-container">
            <div class="wiki-header">
                <h1><i class="fas fa-book"></i> Документация DSTG Panel</h1>
                <p>Подробное руководство по использованию всех функций панели управления ботами</p>
            </div>

            <div class="wiki-content-wrapper">
                <div class="wiki-content">
            <!-- Главная панель -->
            <div class="wiki-card" id="main-panel">
                <div class="wiki-card-header">
                    <i class="fas fa-home wiki-card-icon"></i>
                    <h2 class="wiki-card-title">Главная панель</h2>
                </div>
                <div class="wiki-card-content">
                    <p>Главная панель — это отправная точка для работы с панелью управления. Здесь отображается список всех ваших ботов.</p>
                    
                    <h3><i class="fas fa-list"></i> Список ботов</h3>
                    <p>На главной странице отображаются все созданные боты в виде карточек. Каждая карточка содержит:</p>
                    <ul>
                        <li><strong>Название бота</strong> — имя, которое вы задали при создании</li>
                        <li><strong>Тип бота</strong> — Discord или Telegram</li>
                        <li><strong>Статус</strong> — текущее состояние бота (запущен, остановлен)</li>
                        <li><strong>Метрики</strong> — использование CPU и памяти (если бот запущен)</li>
                    </ul>
                    
                    <h3><i class="fas fa-plus-circle"></i> Создание бота</h3>
                    <p>Чтобы создать нового бота:</p>
                    <ol>
                        <li>Нажмите кнопку <strong>"Создать бота"</strong> в правом верхнем углу</li>
                        <li>Заполните форму:
                            <ul>
                                <li><strong>Название</strong> — укажите имя для вашего бота</li>
                                <li><strong>Тип</strong> — выберите Discord или Telegram</li>
                                <li><strong>Git репозиторий</strong> (опционально) — URL репозитория с кодом бота</li>
                                <li><strong>Ветка</strong> — ветка репозитория (по умолчанию: main)</li>
                                <li><strong>Лимит CPU (%)</strong> — максимальное использование процессора (по умолчанию: 50%)</li>
                                <li><strong>Лимит памяти (MB)</strong> — максимальное использование памяти (по умолчанию: 512 MB)</li>
                            </ul>
                        </li>
                        <li>Нажмите <strong>"Создать"</strong></li>
                    </ol>
                </div>
            </div>

            <!-- Мониторинг бота -->
            <div class="wiki-card" id="monitoring">
                <div class="wiki-card-header">
                    <i class="fas fa-chart-line wiki-card-icon"></i>
                    <h2 class="wiki-card-title">Мониторинг бота</h2>
                </div>
                <div class="wiki-card-content">
                    <p>Раздел мониторинга предоставляет информацию о состоянии и производительности бота в реальном времени.</p>
                    
                    <h3><i class="fas fa-power-off"></i> Управление статусом</h3>
                    <p>В разделе мониторинга вы можете управлять состоянием бота:</p>
                    <ul>
                        <li><strong>Запустить</strong> — запускает остановленного бота</li>
                        <li><strong>Остановить</strong> — останавливает работающий бот</li>
                        <li><strong>Перезагрузить</strong> — перезапускает бота (останавливает и запускает заново)</li>
                    </ul>

                    <h3><i class="fas fa-microchip"></i> Метрики производительности</h3>
                    <p>В разделе мониторинга отображаются следующие метрики:</p>
                    <ul>
                        <li><strong>PID процесса</strong> — идентификатор процесса бота в системе</li>
                        <li><strong>Использование CPU</strong> — процент загрузки процессора</li>
                        <li><strong>Использование памяти</strong> — количество используемой оперативной памяти в мегабайтах</li>
                        <li><strong>Время работы</strong> — продолжительность работы бота с момента последнего запуска</li>
                    </ul>
                </div>
            </div>

            <!-- Настройки бота -->
            <div class="wiki-card" id="bot-settings">
                <div class="wiki-card-header">
                    <i class="fas fa-cog wiki-card-icon"></i>
                    <h2 class="wiki-card-title">Настройки бота</h2>
                </div>
                <div class="wiki-card-content">
                    <p>В разделе настроек можно изменить основные параметры работы бота.</p>
                    
                    <h3><i class="fas fa-edit"></i> Основные параметры</h3>
                    <ul>
                        <li><strong>Название</strong> — измените имя бота. Это имя отображается в списке ботов и в интерфейсе.</li>
                        <li><strong>Тип бота</strong> — выберите тип: Discord или Telegram</li>
                        <li><strong>Стартовый файл</strong> — укажите файл, который должен запускаться при старте бота (например: <code>main.py</code>, <code>bot.py</code>). По умолчанию используется <code>main.py</code>.</li>
                    </ul>

                    <h3><i class="fas fa-server"></i> Лимиты ресурсов</h3>
                    <p>Вы можете установить ограничения на использование ресурсов ботом:</p>
                    <ul>
                        <li><strong>Лимит CPU (%)</strong> — максимальный процент использования процессора</li>
                        <li><strong>Лимит памяти (MB)</strong> — максимальный объем используемой памяти в мегабайтах</li>
                    </ul>

                    <h3><i class="fas fa-cog"></i> Дополнительные настройки</h3>
                    <ul>
                        <li><strong>Автоматический перезапуск при сбое</strong> — бот будет автоматически перезапускаться при ошибке</li>
                        <li><strong>Автозапуск при старте панели</strong> — бот запустится автоматически при запуске панели</li>
                        <li><strong>Переменные окружения (JSON)</strong> — JSON объект с переменными окружения для бота (например: <code>{"TOKEN": "ваш_токен", "API_KEY": "ваш_ключ"}</code>)</li>
                        <li><strong>Рабочая директория</strong> — относительный путь от корня директории бота (оставьте пустым для корня)</li>
                    </ul>

                    <h3><i class="fab fa-git-alt"></i> Настройки Git</h3>
                    <p>Если вы используете Git репозиторий для хранения кода бота:</p>
                    <ul>
                        <li><strong>Использовать Git репозиторий</strong> — включите эту опцию для работы с репозиторием</li>
                        <li><strong>URL репозитория</strong> — полный URL вашего Git репозитория (например: <code>https://github.com/user/repo.git</code> или <code>git@github.com:user/repo.git</code> для SSH)</li>
                        <li><strong>Ветка</strong> — название ветки для работы (по умолчанию: <code>main</code>)</li>
                    </ul>
                    <p>После включения Git вы можете:</p>
                    <ul>
                        <li><strong>Клонировать репозиторий</strong> — скачать код из репозитория (показывается только если репозиторий еще не клонирован)</li>
                        <li><strong>Обновить из репозитория</strong> — выполнить <code>git pull</code> для получения последних изменений</li>
                        <li><strong>Тест SSH подключения</strong> — проверить подключение к репозиторию по SSH (показывается только для SSH URL)</li>
                    </ul>
                    
                    <div class="wiki-note">
                        <strong><i class="fas fa-info-circle"></i> Примечание:</strong> Для приватных репозиториев используйте SSH URL и настройте SSH ключ в настройках панели.
                    </div>

                    <h3><i class="fas fa-save"></i> Сохранение изменений</h3>
                    <p>После внесения изменений в настройки нажмите кнопку <strong>"Сохранить настройки"</strong>. Изменения вступят в силу сразу.</p>
                </div>
            </div>

            <!-- Файлы бота -->
            <div class="wiki-card" id="files">
                <div class="wiki-card-header">
                    <i class="fas fa-folder wiki-card-icon"></i>
                    <h2 class="wiki-card-title">Управление файлами</h2>
                </div>
                <div class="wiki-card-content">
                    <p>Раздел файлов позволяет работать с файловой системой бота: просматривать, редактировать, создавать и удалять файлы.</p>
                    
                    <h3><i class="fas fa-file-code"></i> Просмотр файлов</h3>
                    <p>В левой части экрана отображается дерево файлов. Вы можете:</p>
                    <ul>
                        <li>Нажать на файл, чтобы открыть его для просмотра и редактирования</li>
                        <li>Развернуть папки, кликнув на них</li>
                        <li>Использовать поиск для быстрого нахождения файлов</li>
                    </ul>

                    <h3><i class="fas fa-edit"></i> Редактирование файлов</h3>
                    <p>После выбора файла он откроется в редакторе кода:</p>
                    <ul>
                        <li>Редактор поддерживает подсветку синтаксиса для разных языков программирования</li>
                        <li>Используйте <code>Ctrl+S</code> (или <code>Cmd+S</code> на Mac) для быстрого сохранения</li>
                        <li>Используйте <code>Ctrl+F</code> для поиска текста в файле</li>
                        <li>После редактирования нажмите кнопку <strong>"Сохранить"</strong> для применения изменений</li>
                    </ul>
                    
                    <div class="wiki-note">
                        <strong><i class="fas fa-info-circle"></i> Поддерживаемые форматы:</strong> Python (.py), JavaScript (.js), JSON (.json), HTML, CSS, Markdown (.md), SQL и другие текстовые форматы.
                    </div>

                    <h3><i class="fas fa-plus"></i> Создание файлов и папок</h3>
                    <p>В разделе файлов доступны следующие операции:</p>
                    <ul>
                        <li><strong>Создать файл</strong> — создает новый пустой файл. Укажите полный путь к файлу, включая название.</li>
                        <li><strong>Создать папку</strong> — создает новую директорию в текущей папке</li>
                        <li><strong>Загрузить файл</strong> — позволяет загрузить файл с вашего компьютера на сервер</li>
                    </ul>

                    <h3><i class="fas fa-download"></i> Скачивание и архивирование</h3>
                    <ul>
                        <li><strong>Скачать архив</strong> — создает ZIP архив со всеми файлами бота и предлагает его скачать. Полезно для создания резервных копий.</li>
                        <li>Вы можете скачать отдельные файлы, открыв их контекстное меню</li>
                    </ul>

                    <h3><i class="fas fa-trash"></i> Удаление</h3>
                    <p>Для удаления файла или папки:</p>
                    <ol>
                        <li>Выберите файл или папку в дереве файлов</li>
                        <li>Нажмите кнопку <strong>"Удалить"</strong></li>
                        <li>Подтвердите удаление</li>
                    </ol>
                    
                    <div class="wiki-warning">
                        <strong><i class="fas fa-exclamation-triangle"></i> Внимание:</strong> Удаление файлов невозможно отменить! Убедитесь, что вы удаляете правильные файлы, особенно если это важные файлы конфигурации или код бота.
                    </div>

                    <h3><i class="fas fa-file-upload"></i> Медиа файлы</h3>
                    <p>Редактор поддерживает просмотр медиа файлов:</p>
                    <ul>
                        <li><strong>Изображения</strong> — автоматически отображаются при выборе файлов .jpg, .png, .gif и др.</li>
                        <li><strong>Видео</strong> — встроенный видеоплеер для файлов .mp4, .webm и др.</li>
                        <li><strong>Аудио</strong> — встроенный аудиоплеер для файлов .mp3, .wav и др.</li>
                    </ul>
                </div>
            </div>

            <!-- База данных -->
            <div class="wiki-card" id="database">
                <div class="wiki-card-header">
                    <i class="fas fa-database wiki-card-icon"></i>
                    <h2 class="wiki-card-title">База данных</h2>
                </div>
                <div class="wiki-card-content">
                    <p>Панель поддерживает работу с SQLite базами данных. Вы можете создавать базы, управлять таблицами и выполнять SQL запросы.</p>
                    
                    <h3><i class="fas fa-plus-circle"></i> Создание базы данных</h3>
                    <p>Чтобы создать новую базу данных:</p>
                    <ol>
                        <li>Перейдите в раздел <strong>"База данных"</strong> в боковом меню</li>
                        <li>В форме создания введите имя базы данных (опционально)</li>
                        <li>Если имя не указано, будет создано автоматическое имя</li>
                        <li>Нажмите <strong>"Создать базу данных"</strong></li>
                    </ol>
                    
                    <div class="wiki-note">
                        <strong><i class="fas fa-info-circle"></i> Примечание:</strong> Базы данных создаются в директории бота и доступны только этому боту.
                    </div>

                    <h3><i class="fas fa-list"></i> Список баз данных</h3>
                    <p>В списке баз данных отображаются все базы данных бота. Каждая база данных представлена карточкой с кнопкой удаления.</p>
                    <p><strong>Кликните на карточку базы данных</strong>, чтобы открыть расширенный SQL редактор на отдельной странице с возможностью работы с таблицами и данными.</p>

                    <h3><i class="fas fa-code"></i> SQL Редактор (встроенный)</h3>
                    <p>В разделе базы данных доступен встроенный SQL редактор:</p>
                    <ul>
                        <li><strong>Выбор базы данных</strong> — используйте выпадающий список для выбора базы данных</li>
                        <li><strong>Редактор запросов</strong> — введите SQL запрос в текстовое поле (поддерживается подсветка синтаксиса)</li>
                        <li><strong>Выполнить запрос</strong> — нажмите кнопку или используйте <code>Ctrl+Enter</code> для выполнения</li>
                        <li><strong>Очистить</strong> — очищает поле ввода запроса</li>
                        <li><strong>Расширенный редактор</strong> — кнопка для открытия отдельного SQL редактора с расширенными возможностями</li>
                    </ul>
                    
                    <div class="wiki-success">
                        <strong><i class="fas fa-check-circle"></i> Примеры запросов:</strong>
                        <pre><code>-- Выбрать все записи из таблицы
SELECT * FROM users LIMIT 10;

-- Создать таблицу
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    email TEXT UNIQUE
);

-- Вставить данные
INSERT INTO users (name, email) VALUES ('John', 'john@example.com');</code></pre>
                    </div>

                    <h3><i class="fas fa-table"></i> Расширенный SQL редактор</h3>
                    <p>При клике на базу данных открывается расширенный редактор на отдельной странице с дополнительными возможностями:</p>
                    <ul>
                        <li><strong>Левая панель</strong> — список всех баз данных и таблиц. Клик по базе данных выбирает её, клик по таблице открывает её данные</li>
                        <li><strong>Вкладка "SQL Запросы"</strong> — редактор для выполнения SQL запросов с отображением результатов</li>
                        <li><strong>Вкладка "Данные таблицы"</strong> — просмотр данных таблицы в виде таблицы с возможностью редактирования:
                            <ul>
                                <li>Просмотр всех строк таблицы</li>
                                <li>Добавление новых строк через модальное окно</li>
                                <li>Редактирование существующих строк через модальное окно</li>
                                <li>Удаление строк</li>
                                <li>Переключение на структуру таблицы</li>
                            </ul>
                        </li>
                        <li><strong>Вкладка "Структура"</strong> — просмотр структуры таблицы:
                            <ul>
                                <li>Просмотр всех столбцов с их типами, ограничениями</li>
                                <li>Добавление новых столбцов</li>
                                <li>Удаление столбцов (кроме первичного ключа)</li>
                            </ul>
                        </li>
                        <li><strong>Создание таблиц</strong> — кнопка в левой панели для создания новых таблиц через удобный интерфейс</li>
                    </ul>

                    <h3><i class="fas fa-trash-alt"></i> Удаление базы данных</h3>
                    <p>Для удаления базы данных:</p>
                    <ol>
                        <li>Найдите нужную базу данных в списке</li>
                        <li>Нажмите кнопку <strong>"Удалить"</strong> (иконка корзины) на карточке базы</li>
                        <li>Подтвердите удаление</li>
                    </ol>
                    
                    <div class="wiki-warning">
                        <strong><i class="fas fa-exclamation-triangle"></i> Внимание:</strong> Удаление базы данных невозможно отменить! Все данные в базе будут безвозвратно удалены.
                    </div>
                </div>
            </div>

            <!-- Логи бота -->
            <div class="wiki-card" id="logs">
                <div class="wiki-card-header">
                    <i class="fas fa-file-alt wiki-card-icon"></i>
                    <h2 class="wiki-card-title">Логи бота</h2>
                </div>
                <div class="wiki-card-content">
                    <p>Раздел логов позволяет отслеживать работу бота в реальном времени, просматривая вывод консоли и сообщения об ошибках.</p>
                    
                    <h3><i class="fas fa-sync"></i> Обновление логов</h3>
                    <ul>
                        <li><strong>Обновить</strong> — обновляет список логов вручную</li>
                        <li><strong>Автообновление</strong> — включает автоматическое обновление логов каждые несколько секунд. Полезно для мониторинга в реальном времени.</li>
                    </ul>

                    <h3><i class="fas fa-search"></i> Просмотр логов</h3>
                    <p>Логи отображаются в хронологическом порядке (самые новые сверху). Каждая строка лога содержит время записи и текст сообщения.</p>

                    <h3><i class="fas fa-filter"></i> Фильтрация и поиск</h3>
                    <p>Вы можете использовать встроенные функции браузера (<code>Ctrl+F</code>) для поиска по логам. Это полезно для:</p>
                    <ul>
                        <li>Поиска конкретных ошибок</li>
                        <li>Отслеживания определенных событий</li>
                        <li>Анализа паттернов в работе бота</li>
                    </ul>

                    <h3><i class="fas fa-download"></i> Экспорт логов</h3>
                    <p>Для сохранения логов:</p>
                    <ul>
                        <li>Выделите нужные строки логов</li>
                        <li>Скопируйте их (<code>Ctrl+C</code>)</li>
                        <li>Вставьте в текстовый файл для анализа</li>
                    </ul>
                    
                    <div class="wiki-note">
                        <strong><i class="fas fa-info-circle"></i> Совет:</strong> Регулярно проверяйте логи на наличие ошибок и предупреждений. Это поможет быстро выявлять и устранять проблемы с работой бота.
                    </div>
                </div>
            </div>

            <!-- Настройки панели -->
            <div class="wiki-card" id="panel-settings">
                <div class="wiki-card-header">
                    <i class="fas fa-cog wiki-card-icon"></i>
                    <h2 class="wiki-card-title">Настройки панели</h2>
                </div>
                <div class="wiki-card-content">
                    <p>В настройках панели можно изменить параметры безопасности и внешнего вида интерфейса. Доступ к настройкам через меню в правом верхнем углу.</p>
                    
                    <h3><i class="fas fa-lock"></i> Смена пароля администратора</h3>
                    <p>Для смены пароля администратора:</p>
                    <ol>
                        <li>Перейдите в <strong>"Настройки"</strong> через меню в правом верхнем углу</li>
                        <li>Введите текущий пароль</li>
                        <li>Введите новый пароль дважды для подтверждения</li>
                        <li>Нажмите <strong>"Изменить пароль"</strong></li>
                    </ol>
                    
                    <div class="wiki-warning">
                        <strong><i class="fas fa-exclamation-triangle"></i> Безопасность:</strong> Используйте надежный пароль, содержащий буквы, цифры и специальные символы. Не используйте простые пароли!
                    </div>

                    <h3><i class="fas fa-key"></i> Управление SSH ключами</h3>
                    <p>SSH ключи необходимы для работы с приватными Git репозиториями:</p>
                    <ul>
                        <li><strong>Генерация ключа</strong> — панель может автоматически сгенерировать SSH ключ. Нажмите кнопку "Сгенерировать новый ключ"</li>
                        <li><strong>Публичный ключ</strong> — после генерации отображается публичный ключ, который нужно добавить в настройки вашего Git сервиса (GitHub, GitLab и т.д.)</li>
                        <li><strong>Один ключ для всех ботов</strong> — один SSH ключ используется для всех ботов в панели</li>
                        <li><strong>Тест SSH подключения</strong> — можно проверить подключение к GitHub</li>
                    </ul>
                    
                    <div class="wiki-success">
                        <strong><i class="fas fa-check-circle"></i> Как добавить ключ в GitHub:</strong>
                        <ol>
                            <li>Скопируйте публичный ключ из панели</li>
                            <li>Перейдите в GitHub → Settings → SSH and GPG keys</li>
                            <li>Нажмите "New SSH key"</li>
                            <li>Вставьте ключ и сохраните</li>
                        </ol>
                    </div>

                    <h3><i class="fas fa-palette"></i> Темы оформления</h3>
                    <p>Панель поддерживает несколько тем оформления:</p>
                    <ul>
                        <li><strong>Темная</strong> — темная тема по умолчанию с неоновыми акцентами</li>
                        <li><strong>Светлая</strong> — светлая тема для работы в светлое время суток</li>
                        <li><strong>Новогодняя</strong> — праздничная тема с новогодними эффектами (снег, гирлянда)</li>
                        <li><strong>Минималистичная</strong> — чистая минималистичная тема</li>
                        <li><strong>Неоновая</strong> — яркая неоновая тема</li>
                        <li><strong>Пользовательская</strong> — возможность создать собственную тему с экспортом и импортом</li>
                    </ul>
                    
                    <p>Для смены темы:</p>
                    <ol>
                        <li>Перейдите в <strong>"Настройки"</strong></li>
                        <li>Выберите нужную тему из списка</li>
                        <li>Тема применится сразу же</li>
                    </ol>

                    <h3><i class="fas fa-download"></i> Экспорт и импорт тем</h3>
                    <p>Вы можете экспортировать текущую пользовательскую тему в JSON формате и делиться ею с другими пользователями, или импортировать тему, созданную кем-то другим.</p>
                </div>
            </div>

            <!-- Git и репозитории -->
            <div class="wiki-card" id="git">
                <div class="wiki-card-header">
                    <i class="fab fa-git-alt wiki-card-icon"></i>
                    <h2 class="wiki-card-title">Работа с Git</h2>
                </div>
                <div class="wiki-card-content">
                    <p>Панель интегрирована с Git и позволяет работать с репозиториями прямо из интерфейса.</p>
                    
                    <h3><i class="fas fa-download"></i> Клонирование репозитория</h3>
                    <p>При создании бота вы можете указать Git репозиторий, или клонировать его позже:</p>
                    <ol>
                        <li>Перейдите в раздел <strong>"Настройки"</strong> бота</li>
                        <li>Включите опцию "Использовать Git репозиторий"</li>
                        <li>Укажите URL репозитория (HTTPS или SSH)</li>
                        <li>Нажмите <strong>"Сохранить настройки"</strong></li>
                        <li>Кнопка "Клонировать репозиторий" появится, если репозиторий еще не клонирован</li>
                    </ol>

                    <h3><i class="fas fa-sync-alt"></i> Обновление из Git</h3>
                    <p>Для обновления кода бота из репозитория:</p>
                    <ol>
                        <li>Убедитесь, что в настройках бота указан правильный репозиторий</li>
                        <li>Перейдите в раздел <strong>"Настройки"</strong> бота</li>
                        <li>Нажмите <strong>"Обновить из репозитория"</strong></li>
                        <li>Панель выполнит <code>git pull</code> и обновит файлы</li>
                    </ol>
                    
                    <div class="wiki-note">
                        <strong><i class="fas fa-info-circle"></i> Примечание:</strong> Если у вас есть незакоммиченные изменения в локальных файлах, они могут быть перезаписаны при обновлении. Рекомендуется делать коммиты перед обновлением или создать резервную копию.
                    </div>

                    <h3><i class="fas fa-code-branch"></i> Работа с ветками</h3>
                    <p>В настройках бота можно указать ветку репозитория. По умолчанию используется ветка <code>main</code>. Для работы с другой веткой:</p>
                    <ul>
                        <li>Измените ветку в настройках бота</li>
                        <li>Обновите репозиторий для применения изменений</li>
                    </ul>

                    <h3><i class="fas fa-shield-alt"></i> Приватные репозитории</h3>
                    <p>Для работы с приватными репозиториями:</p>
                    <ol>
                        <li>Сгенерируйте SSH ключ в настройках панели</li>
                        <li>Добавьте публичный ключ в настройки вашего Git сервиса (GitHub, GitLab и т.д.)</li>
                        <li>В настройках бота используйте SSH URL репозитория (например: <code>git@github.com:user/repo.git</code>)</li>
                        <li>Сохраните настройки</li>
                    </ol>
                </div>
            </div>

            <!-- Советы и лучшие практики -->
            <div class="wiki-card" id="tips">
                <div class="wiki-card-header">
                    <i class="fas fa-lightbulb wiki-card-icon"></i>
                    <h2 class="wiki-card-title">Советы и лучшие практики</h2>
                </div>
                <div class="wiki-card-content">
                    <h3><i class="fas fa-shield-alt"></i> Безопасность</h3>
                    <ul>
                        <li>Используйте надежный пароль администратора и регулярно меняйте его</li>
                        <li>Не храните токены ботов и API ключи в коде — используйте переменные окружения (настраиваются в настройках бота)</li>
                        <li>Регулярно обновляйте зависимости бота для устранения уязвимостей</li>
                        <li>Используйте SSH ключи для доступа к приватным репозиториям вместо паролей</li>
                        <li>Не делитесь SSH ключами и паролями с посторонними</li>
                    </ul>

                    <h3><i class="fas fa-rocket"></i> Производительность</h3>
                    <ul>
                        <li>Устанавливайте разумные лимиты ресурсов для ботов, чтобы предотвратить перегрузку сервера</li>
                        <li>Мониторьте использование ресурсов через метрики в разделе мониторинга</li>
                        <li>Регулярно проверяйте логи на наличие ошибок и предупреждений</li>
                        <li>Оптимизируйте код бота для снижения потребления ресурсов</li>
                        <li>Используйте автообновление логов только при необходимости</li>
                    </ul>

                    <h3><i class="fas fa-database"></i> Резервное копирование</h3>
                    <ul>
                        <li>Регулярно создавайте резервные копии важных данных</li>
                        <li>Используйте функцию "Скачать архив" для бэкапа файлов бота</li>
                        <li>Экспортируйте базы данных перед важными изменениями</li>
                        <li>Храните код в Git репозитории для версионирования</li>
                    </ul>

                    <h3><i class="fas fa-bug"></i> Отладка</h3>
                    <ul>
                        <li>Используйте раздел логов для отслеживания ошибок</li>
                        <li>Проверяйте статус бота в разделе мониторинга</li>
                        <li>При проблемах с запуском проверьте стартовый файл и зависимости</li>
                        <li>Используйте SQL редактор для проверки данных в базе</li>
                        <li>Проверяйте переменные окружения в настройках бота</li>
                    </ul>

                    <h3><i class="fas fa-users"></i> Организация работы</h3>
                    <ul>
                        <li>Давайте ботов понятные и описательные имена</li>
                        <li>Используйте комментарии в коде для документирования</li>
                        <li>Храните конфигурацию отдельно от кода (используйте переменные окружения)</li>
                        <li>Используйте версионирование Git для отслеживания изменений</li>
                        <li>Документируйте настройки и изменения в README файлах</li>
                    </ul>
                </div>
            </div>

            <!-- FAQ -->
            <div class="wiki-card" id="faq">
                <div class="wiki-card-header">
                    <i class="fas fa-question-circle wiki-card-icon"></i>
                    <h2 class="wiki-card-title">Часто задаваемые вопросы</h2>
                </div>
                <div class="wiki-card-content">
                    <h3><i class="fas fa-question"></i> Бот не запускается. Что делать?</h3>
                    <p>Проверьте следующее:</p>
                    <ul>
                        <li>Правильность указания стартового файла в настройках</li>
                        <li>Наличие всех необходимых зависимостей (проверьте requirements.txt или установите зависимости вручную)</li>
                        <li>Логи бота на наличие ошибок</li>
                        <li>Корректность токенов и API ключей (проверьте переменные окружения)</li>
                        <li>Достаточность прав доступа к файлам</li>
                    </ul>

                    <h3><i class="fas fa-question"></i> Как обновить зависимости бота?</h3>
                    <p>Зависимости нужно устанавливать вручную через терминал или SSH. Панель не устанавливает зависимости автоматически. Для установки зависимостей:</p>
                    <ol>
                        <li>Подключитесь к серверу через SSH</li>
                        <li>Перейдите в директорию бота</li>
                        <li>Выполните установку зависимостей (например: <code>pip install -r requirements.txt</code>)</li>
                    </ol>

                    <h3><i class="fas fa-question"></i> Бот потребляет слишком много ресурсов</h3>
                    <p>Если бот использует слишком много CPU или памяти:</p>
                    <ul>
                        <li>Установите лимиты ресурсов в настройках бота</li>
                        <li>Проверьте код на наличие утечек памяти или бесконечных циклов</li>
                        <li>Оптимизируйте код бота</li>
                        <li>Используйте метрики мониторинга для выявления проблем</li>
                    </ul>

                    <h3><i class="fas fa-question"></i> Как восстановить удаленную базу данных?</h3>
                    <p>К сожалению, удаленные базы данных восстановить невозможно. Поэтому важно:</p>
                    <ul>
                        <li>Регулярно делать резервные копии важных данных</li>
                        <li>Экспортировать данные перед удалением</li>
                        <li>Использовать систему контроля версий для структуры базы данных</li>
                    </ul>

                    <h3><i class="fas fa-question"></i> Как работает SSH ключ для Git?</h3>
                    <p>Панель использует один SSH ключ для всех ботов. Ключ генерируется автоматически или вручную в настройках панели. После генерации нужно добавить публичный ключ в настройки вашего Git сервиса (GitHub, GitLab и т.д.). Затем в настройках бота используйте SSH URL репозитория.</p>

                    <h3><i class="fas fa-question"></i> Как изменить тему оформления?</h3>
                    <p>Перейдите в <strong>"Настройки"</strong> (меню в правом верхнем углу) → выберите нужную тему из списка. Изменения применяются мгновенно. Вы также можете создать собственную тему, используя функцию экспорта/импорта.</p>

                    <h3><i class="fas fa-question"></i> Можно ли использовать несколько SSH ключей?</h3>
                    <p>Нет, панель использует один SSH ключ для всех ботов. Этот ключ настраивается в настройках панели и используется для всех приватных репозиториев.</p>
                </div>
            </div>
                </div>
                
                <!-- Навигационное меню -->
                <nav class="wiki-nav" id="wiki-nav">
                    <div class="wiki-nav-header">
                        <i class="fas fa-list"></i> Навигация
                    </div>
                    <ul class="wiki-nav-list">
                        <li class="wiki-nav-item">
                            <a href="#main-panel" class="wiki-nav-link" data-section="main-panel">
                                <i class="fas fa-home"></i> Главная панель
                            </a>
                        </li>
                        <li class="wiki-nav-item">
                            <a href="#monitoring" class="wiki-nav-link" data-section="monitoring">
                                <i class="fas fa-chart-line"></i> Мониторинг бота
                            </a>
                        </li>
                        <li class="wiki-nav-item">
                            <a href="#bot-settings" class="wiki-nav-link" data-section="bot-settings">
                                <i class="fas fa-cog"></i> Настройки бота
                            </a>
                        </li>
                        <li class="wiki-nav-item">
                            <a href="#files" class="wiki-nav-link" data-section="files">
                                <i class="fas fa-folder"></i> Управление файлами
                            </a>
                        </li>
                        <li class="wiki-nav-item">
                            <a href="#database" class="wiki-nav-link" data-section="database">
                                <i class="fas fa-database"></i> База данных
                            </a>
                        </li>
                        <li class="wiki-nav-item">
                            <a href="#logs" class="wiki-nav-link" data-section="logs">
                                <i class="fas fa-file-alt"></i> Логи бота
                            </a>
                        </li>
                        <li class="wiki-nav-item">
                            <a href="#panel-settings" class="wiki-nav-link" data-section="panel-settings">
                                <i class="fas fa-cog"></i> Настройки панели
                            </a>
                        </li>
                        <li class="wiki-nav-item">
                            <a href="#git" class="wiki-nav-link" data-section="git">
                                <i class="fab fa-git-alt"></i> Работа с Git
                            </a>
                        </li>
                        <li class="wiki-nav-item">
                            <a href="#tips" class="wiki-nav-link" data-section="tips">
                                <i class="fas fa-lightbulb"></i> Советы и практики
                            </a>
                        </li>
                        <li class="wiki-nav-item">
                            <a href="#faq" class="wiki-nav-link" data-section="faq">
                                <i class="fas fa-question-circle"></i> FAQ
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/theme-manager.js"></script>
    <script>
        // Плавная прокрутка к якорям
        document.querySelectorAll('.wiki-nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                if (targetElement) {
                    const offsetTop = targetElement.offsetTop - 100;
                    window.scrollTo({
                        top: offsetTop,
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // Подсветка активного раздела при прокрутке
        function updateActiveSection() {
            const sections = document.querySelectorAll('.wiki-card[id]');
            const navLinks = document.querySelectorAll('.wiki-nav-link');
            const scrollPosition = window.scrollY + 150;
            
            let currentSection = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.offsetHeight;
                if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                    currentSection = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-section') === currentSection) {
                    link.classList.add('active');
                }
            });
        }
        
        // Обновление активного раздела при прокрутке
        window.addEventListener('scroll', updateActiveSection);
        window.addEventListener('load', updateActiveSection);
    </script>
</body>
</html>
